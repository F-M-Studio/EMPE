A version made to compile on windows without issues 
